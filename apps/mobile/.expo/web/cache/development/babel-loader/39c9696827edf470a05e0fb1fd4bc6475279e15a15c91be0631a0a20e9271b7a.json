{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport QRScannerModal from \"../components/QRScannerModal\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ReportForm = function ReportForm() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    description = _useState4[0],\n    setDescription = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    location = _useState6[0],\n    setLocation = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isScannerVisible = _useState8[0],\n    setIsScannerVisible = _useState8[1];\n  var handleScan = function handleScan(data) {\n    try {\n      var parsedData = JSON.parse(data);\n      if (parsedData.name) {\n        setLocation(parsedData.name);\n      } else {\n        Alert.alert(\"Invalid QR Code\", \"The scanned code does not contain valid location data.\");\n      }\n    } catch (error) {\n      Alert.alert(\"Error\", \"Failed to parse QR code data.\");\n    }\n  };\n  var handleSubmit = function handleSubmit() {\n    if (!title || !description || !location) {\n      Alert.alert(\"Error\", \"All fields are required.\");\n      return;\n    }\n    console.log(\"Report Submitted:\", {\n      title: title,\n      description: description,\n      location: location\n    });\n    Alert.alert(\"Success\", \"Your report has been submitted.\");\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.heading,\n      children: \"Submit a Safety Report\"\n    }), _jsx(TextInput, {\n      style: styles.input,\n      placeholder: \"Title\",\n      value: title,\n      onChangeText: setTitle\n    }), _jsx(TextInput, {\n      style: styles.input,\n      placeholder: \"Description\",\n      value: description,\n      onChangeText: setDescription,\n      multiline: true\n    }), _jsxs(View, {\n      style: styles.row,\n      children: [_jsx(TextInput, {\n        style: [styles.input, styles.locationInput],\n        placeholder: \"Location\",\n        value: location,\n        onChangeText: setLocation\n      }), _jsx(Button, {\n        title: \"Scan\",\n        onPress: function onPress() {\n          return setIsScannerVisible(true);\n        }\n      })]\n    }), _jsx(QRScannerModal, {\n      visible: isScannerVisible,\n      onClose: function onClose() {\n        return setIsScannerVisible(false);\n      },\n      onScan: handleScan\n    }), _jsx(Button, {\n      title: \"Submit Report\",\n      onPress: handleSubmit\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: \"#fff\"\n  },\n  heading: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 15\n  },\n  row: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 15\n  },\n  locationInput: {\n    flex: 1,\n    marginBottom: 0,\n    marginRight: 10\n  }\n});\nexport default ReportForm;","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","StyleSheet","Alert","QRScannerModal","jsx","_jsx","jsxs","_jsxs","ReportForm","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","location","setLocation","_useState7","_useState8","isScannerVisible","setIsScannerVisible","handleScan","data","parsedData","JSON","parse","name","alert","error","handleSubmit","console","log","style","styles","container","children","heading","input","placeholder","value","onChangeText","multiline","row","locationInput","onPress","visible","onClose","onScan","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","borderWidth","borderColor","borderRadius","flexDirection","alignItems","marginRight"],"sources":["/Users/asearer/Documents/Projects/safety-suggestion-reporting-system/apps/mobile/src/screens/ReportForm.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { View, Text, TextInput, Button, StyleSheet, Alert, TouchableOpacity } from \"react-native\";\nimport QRScannerModal from \"../components/QRScannerModal\";\n\nconst ReportForm: React.FC = () => {\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [isScannerVisible, setIsScannerVisible] = useState(false);\n\n    const handleScan = (data: string) => {\n        try {\n            const parsedData = JSON.parse(data);\n            if (parsedData.name) {\n                setLocation(parsedData.name);\n            } else {\n                Alert.alert(\"Invalid QR Code\", \"The scanned code does not contain valid location data.\");\n            }\n        } catch (error) {\n            Alert.alert(\"Error\", \"Failed to parse QR code data.\");\n        }\n    };\n\n    const handleSubmit = () => {\n        if (!title || !description || !location) {\n            Alert.alert(\"Error\", \"All fields are required.\");\n            return;\n        }\n        console.log(\"Report Submitted:\", { title, description, location });\n        Alert.alert(\"Success\", \"Your report has been submitted.\");\n        // TODO: Replace with API call to submit the report\n    };\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.heading}>Submit a Safety Report</Text>\n            <TextInput\n                style={styles.input}\n                placeholder=\"Title\"\n                value={title}\n                onChangeText={setTitle}\n            />\n            <TextInput\n                style={styles.input}\n                placeholder=\"Description\"\n                value={description}\n                onChangeText={setDescription}\n                multiline\n            />\n            <View style={styles.row}>\n                <TextInput\n                    style={[styles.input, styles.locationInput]}\n                    placeholder=\"Location\"\n                    value={location}\n                    onChangeText={setLocation}\n                />\n                <Button title=\"Scan\" onPress={() => setIsScannerVisible(true)} />\n            </View>\n            <QRScannerModal\n                visible={isScannerVisible}\n                onClose={() => setIsScannerVisible(false)}\n                onScan={handleScan}\n            />\n            <Button title=\"Submit Report\" onPress={handleSubmit} />\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        padding: 20,\n        backgroundColor: \"#fff\",\n    },\n    heading: {\n        fontSize: 24,\n        fontWeight: \"bold\",\n        marginBottom: 20,\n    },\n    input: {\n        borderWidth: 1,\n        borderColor: \"#ccc\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 15,\n    },\n    row: {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        marginBottom: 15,\n    },\n    locationInput: {\n        flex: 1,\n        marginBottom: 0,\n        marginRight: 10,\n    },\n});\n\nexport default ReportForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}